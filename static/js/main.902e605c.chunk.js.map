{"version":3,"sources":["images/Checkbox.svg","images/Form.svg","images/mainLogo.svg","services/aviasalesApi.js","services/aviasalesHelper.js","components/Tickets/styledTickets.js","components/Tickets/tickets.js","components/StopsControl/styledStopsControl.js","components/StopsControl/stopsControl.js","styledApp.js","components/SortButtons/sortButtons.js","App.js","index.js"],"names":["module","exports","aviasalesApi","_searchIdUrl","_searchTickets","getTickets","id","a","axios","get","data","stop","getSearchId","response","searchId","loadTickets","cb","getChunk","tickets","console","log","res","helper","stopsCounter","stops","length","stopsName","flightTimeEditor","date","duration","startHours","getHours","Date","slice","startMinutes","getMinutes","result","addMinutes","finishHours","finishMinutes","flightTimeCounter","start","startTime","stopTime","differense","differenceInMinutes","differenseHours","Math","floor","differenseMinutes","StyledContainer","styled","div","Ticket","FirstTicketColumn","Price","p","GreyText","span","BlackText","SecondColumn","FirdColumn","ColumnTwoHeader","Img","img","Tickets","props","filters","newTickets","filter","el","segments","firstStops","secondStops","includes","String","map","price","carrier","originStart","origin","destinationStart","destination","dateStart","durationStart","stopsStart","originEnd","destinationEnd","dateEnd","durationEnd","stopsEnd","key","uniqueId","toLocaleString","src","StopsControlContainer","StyledInput","input","StopsHeader","StyledLabel","label","checked","notChecked","StopsControl","onChange","stopsControlData","checkedValue","allStops","name","value","text","withoutStops","oneStop","twoStops","threeStops","n","type","MainContainer","RightSideWrapper","StyledMainLogo","SortButtons","onClick","checkByPrice","checkByTime","SortButtonsContainer","StyledButtonLeft","StyledButtonRight","button","initialState","checkedValues","checkSortByPrice","checkSortByTime","App","state","handleCheck","e","target","setState","newFilters","toggleSortButtons","sortedArr","sort","b","startA","endA","chunk","this","mainLogo","React","Component","Root","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.902e605c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Checkbox.fc4db7ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/Form.74238712.svg\";","module.exports = __webpack_public_path__ + \"static/media/mainLogo.0c089234.svg\";","import axios from \"axios\";\r\n\r\nclass AviasalesApi {\r\n\r\n    _searchIdUrl = `https://front-test.beta.aviasales.ru/search`;\r\n\r\n    _searchTickets = `https://front-test.beta.aviasales.ru/tickets?searchId`;\r\n\r\n\r\n    getTickets = async (id) => {\r\n        try {\r\n            const response = await axios.get(`${this._searchTickets}=${id}`);\r\n            if (response.data.stop === false) {\r\n                this.getTickets(id)\r\n            }\r\n        } catch (e) {\r\n            this.getTickets(id);\r\n        }\r\n    }\r\n\r\n    getSearchId = async () => {\r\n        const response = await axios.get(this._searchIdUrl);\r\n        return response.data.searchId;\r\n    }\r\n\r\n    loadTickets = async (cb) => {\r\n        const id = await this.getSearchId();\r\n        let response = null;\r\n        /* eslint-disable no-await-in-loop */\r\n        do {\r\n            response = await this.getChunk(id);\r\n            cb(response.data.tickets);\r\n        } while (response.data.stop === false)\r\n        /* eslint-disable no-await-in-loop */\r\n        console.log(` all chunks are loaded`);\r\n    }\r\n\r\n    getChunk = async (id) => {\r\n        try {\r\n            return await axios.get(`${this._searchTickets}=${id}`);\r\n        } catch (e) {\r\n            const res = await this.getChunk(id);\r\n            return res;\r\n        }\r\n    }\r\n}\r\n\r\nconst aviasalesApi = new AviasalesApi();\r\nexport default aviasalesApi;","import addMinutes from 'date-fns/addMinutes';\r\nimport {differenceInMinutes, getHours, getMinutes} from 'date-fns';\r\n\r\n\r\nclass AviasalesHelper {\r\n    stopsCounter = (stops) => {\r\n        if (stops.length === 0) return 'без пересадок';\r\n        if (stops.length === 1) return `1 пересадка`;\r\n        return `${stops.length} пересадки`;\r\n    }\r\n\r\n    stopsName = (stops) => {\r\n        if(stops.length===0)return `-`;\r\n        if (stops.length === 1) return `${stops}`;\r\n        if (stops.length === 2) return `${stops[0]},${stops[1]}`;\r\n        if (stops.length === 3) return `${stops[0]},${stops[1]},${stops[2]}`;\r\n    }\r\n\r\n    flightTimeEditor = (date, duration) => {\r\n        const startHours = `0${getHours(new Date(date))}`.slice(-2);\r\n        const startMinutes = `0${getMinutes(new Date(date))}`.slice(-2);\r\n        const result = addMinutes(new Date(date), duration);\r\n        const finishHours = `0${getHours(new Date(result))}`.slice(-2);\r\n        const finishMinutes = `0${getMinutes(new Date(result))}`.slice(-2);\r\n        return `${startHours}:${startMinutes} -${finishHours}:${finishMinutes}`;\r\n    }\r\n\r\n    flightTimeCounter = (start, duration) => {\r\n        const startTime = new Date(start);\r\n        const stopTime = addMinutes(startTime, duration);\r\n        const differense = differenceInMinutes(stopTime, startTime);\r\n        const differenseHours = `${Math.floor(differense / 60)}`;\r\n        const differenseMinutes = `${differense % 60}`;\r\n        return `${differenseHours}ч ${differenseMinutes}м`;\r\n\r\n    }\r\n}\r\n\r\n const  helper = new AviasalesHelper();\r\nexport default helper;","import styled from \"styled-components\";\r\n\r\nexport const StyledContainer = styled.div`\r\ndisplay: flex:\r\nflex-direction: column;\r\n`\r\nexport const Ticket = styled.div`\r\nfont-family: 'Open Sans';\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\nwidth: 502px;\r\nheight:184px;\r\npadding: 20px;\r\nbackground-color: #FFFFFF;\r\nmargin-bottom: 20px;\r\nfont-weight: 600;\r\nbox-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\r\nborder-radius: 5px;\r\n`\r\nexport const FirstTicketColumn = styled.div`\r\ndisplay:flex;\r\nflex-direction:column;\r\nalign-items: left;\r\n`\r\nexport const Price = styled.p`\r\nfont-size: 24px;\r\ncolor:#2196F3;\r\n`\r\nexport const GreyText = styled.span`\r\ndisplay: flex;\r\njustify-content: flex-start;\r\nfont-size: 12px;\r\ncolor: #A0B0B9;\r\nmargin-bottom: 3px;\r\n`\r\nexport const BlackText = styled.span`\r\nfont-size: 14px;\r\nmargin-bottom: 10px;\r\n`\r\nexport const SecondColumn = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\n`\r\nexport const FirdColumn = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\n`\r\nexport const ColumnTwoHeader = styled.span`\r\ndisplay: flex;\r\njustify-content: flex-start;\r\nfont-size: 12px;\r\ncolor: #A0B0B9;\r\nmargin-top: 75px;\r\nmargin-bottom: 3px;\r\n`\r\nexport const Img = styled.img`\r\nmargin-top:20px;\r\nmargin-bottom:20px;\r\n`","import React from \"react\";\r\nimport {uniqueId} from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport helper from \"../../services/aviasalesHelper\";\r\nimport {\r\n    BlackText,\r\n    ColumnTwoHeader,\r\n    FirdColumn,\r\n    FirstTicketColumn,\r\n    GreyText,\r\n    Img,\r\n    Price,\r\n    SecondColumn,\r\n    StyledContainer,\r\n    Ticket\r\n} from \"./styledTickets\";\r\n\r\n\r\n\r\nconst Tickets = (props) => {\r\n    const {tickets, filters} = props;\r\n    const newTickets = tickets.filter(el => {\r\n        const {\r\n            segments: [{stops: firstStops},\r\n                {stops: secondStops}]\r\n        } = el;\r\n        if (filters.includes(String(firstStops.length)) || filters.includes(String(secondStops.length))) {\r\n            return el;\r\n        }\r\n        if (filters.includes('allStops')) {\r\n            return el;\r\n        }\r\n        return null;\r\n    })\r\n        .slice(0, 5);\r\n\r\n    const ticketsRender = (data) => {\r\n        return (\r\n            data.map((el) => {\r\n                const {\r\n                    price, carrier, segments: [{\r\n                        origin: originStart,\r\n                        destination: destinationStart,\r\n                        date: dateStart,\r\n                        duration: durationStart,\r\n                        stops: stopsStart\r\n                    }, {\r\n                        origin: originEnd,\r\n                        destination: destinationEnd,\r\n                        date: dateEnd,\r\n                        duration: durationEnd,\r\n                        stops: stopsEnd\r\n                    }]\r\n                } = el;\r\n                return (\r\n                    <Ticket key={uniqueId()}>\r\n                        <FirstTicketColumn>\r\n                            <Price>{(price).toLocaleString('ru')} P</Price>\r\n                            <GreyText>{originStart}-{destinationStart}</GreyText>\r\n                            <BlackText>{helper.flightTimeEditor(dateStart, durationStart)}</BlackText>\r\n                            <GreyText>{originEnd}-{destinationEnd}</GreyText>\r\n                            <BlackText>{helper.flightTimeEditor(dateEnd, durationEnd)}</BlackText>\r\n                        </FirstTicketColumn>\r\n                        <SecondColumn>\r\n                            <ColumnTwoHeader>в пути</ColumnTwoHeader>\r\n                            <BlackText>{helper.flightTimeCounter(dateStart, durationStart)}</BlackText>\r\n                            <GreyText>В ПУТИ</GreyText>\r\n                            <BlackText>{helper.flightTimeCounter(dateEnd, durationEnd)}</BlackText>\r\n                        </SecondColumn>\r\n                        <FirdColumn>\r\n                            <Img src={`https://pics.avs.io/99/36/${carrier}.png`}/>\r\n                            <GreyText>{helper.stopsCounter(stopsStart)}</GreyText>\r\n                            <BlackText>{helper.stopsName(stopsStart)}</BlackText>\r\n                            <GreyText>{helper.stopsCounter(stopsEnd)}</GreyText>\r\n                            <BlackText>{helper.stopsName(stopsEnd)}</BlackText>\r\n                        </FirdColumn>\r\n                    </Ticket>)\r\n            })\r\n        )\r\n    }\r\n    return (\r\n        <StyledContainer>\r\n            {ticketsRender(newTickets)}\r\n        </StyledContainer>\r\n    )\r\n}\r\n\r\nexport default Tickets;\r\nTickets.propTypes = {\r\n    tickets: PropTypes.array.isRequired,\r\n    filters: PropTypes.array.isRequired\r\n}\r\n","import styled from \"styled-components\";\r\nimport checked from '../../images/Checkbox.svg';\r\nimport notChecked from '../../images/Form.svg';\r\n\r\n\r\nexport const StopsControlContainer = styled.div`\r\ndisplay: flex;\r\nWidth:232px;\r\nheight: 252px;\r\nmargin-right: 20px;\r\nmargin-top: 190px;\r\npadding-left: 20px;\r\npadding-right: 20px;\r\nborder-radius: 5px;\r\nflex-direction: column;\r\njustify-content: start;\r\nbox-sizing: border-box;\r\nbackground-color:#FFFFFF;\r\nbox-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\r\n`\r\nexport const StyledInput = styled.input`\r\ndisplay: none;\r\n`\r\nexport const StopsHeader = styled.p`\r\nfont-size: 12px;\r\nheight: 12px;\r\nfont-weight: 600;\r\nfont-family: 'Open Sans';\r\nfont-style: normal;\r\n`\r\nexport const StyledLabel = styled.label`\r\ndisplay: flex;\r\nalign-items: center;\r\nmargin-bottom: 20px;\r\nfont-size: 13px;\r\ncursor: pointer;\r\nvertical-align: center;\r\nfont-family: 'Open Sans';\r\nfont-style: normal;\r\n&:before {\r\ncontent: \"\";\r\ndisplay:inline-block;\r\nwidth: 20px;\r\nheight: 20px;\r\nmargin-right: 10px;\r\nbackground-image: ${props=>(props.checked? `url(${checked})`:`url(${notChecked})`)};\r\nbackground-position: center;\r\nbackground-repeat: no-repeat;\r\n}\r\n`\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport {StopsControlContainer, StopsHeader, StyledInput, StyledLabel} from \"./styledStopsControl\";\r\n\r\nconst StopsControl = (props) => {\r\n    const {onChange, checked} = props;\r\n    const stopsControlData = [\r\n        {checkedValue: checked.allStops, name: 'allStops', value: 'allStops', text: 'Все'},\r\n        {checkedValue: checked.withoutStops, name: 'withoutStops', value: '0', text: 'Без пересадок'},\r\n        {checkedValue: checked.oneStop, name: 'oneStop', value: '1', text: '1 пересадка'},\r\n        {checkedValue: checked.twoStops, name: 'twoStops', value: '2', text: '2 пересадки'},\r\n        {checkedValue: checked.threeStops, name: 'threeStops', value: '3', text: '3 пересадки'},\r\n    ];\r\n    const stopsControlRender = (data) => {\r\n        return data.map((el, n) => {\r\n            const {checkedValue, name, value, text} = el;\r\n            return (\r\n                <StyledLabel checked={checkedValue}\r\n                             key={n}\r\n                >\r\n                    <StyledInput type=\"checkbox\"\r\n                                 name={name}\r\n                                 value={value}\r\n                                 onChange={onChange}\r\n                   />\r\n                    {text}\r\n                </StyledLabel>\r\n            );\r\n        });\r\n    }\r\n    return (\r\n        <StopsControlContainer>\r\n            <StopsHeader>\r\n                КОЛИЧЕСТВО ПЕРЕСАДОК\r\n            </StopsHeader>\r\n            {stopsControlRender(stopsControlData)}\r\n        </StopsControlContainer>\r\n    );\r\n}\r\nexport default StopsControl;\r\n\r\nStopsControl.propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    checked: PropTypes.object.isRequired\r\n}\r\n\r\n","import styled from \"styled-components\";\r\nexport const MainContainer = styled.div`\r\ndisplay: flex;\r\nmin-height: 1200px;\r\nflex-direction: row;\r\nbackground-color: #E5E5E5;\r\njustify-content: center;\r\n`\r\n\r\nexport const RightSideWrapper = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\n`\r\nexport const StyledMainLogo = styled.img`\r\nmargin-top: 50px;\r\nmargin-bottom: 50px;\r\n`","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport styled from \"styled-components\";\r\n\r\nconst SortButtons = (props) => {\r\n    const {onClick, checkByPrice, checkByTime} = props;\r\n    return (\r\n        <SortButtonsContainer>\r\n            <StyledButtonLeft\r\n                name=\"priceSort\"\r\n                onClick={onClick}\r\n                checked={checkByPrice}>\r\n                САМЫЙ ДЕШЕВЫЙ\r\n            </StyledButtonLeft>\r\n            <StyledButtonRight\r\n                name=\"timeSort\"\r\n                onClick={onClick}\r\n                checked={checkByTime}>\r\n                САМЫЙ БЫСТРЫЙ\r\n            </StyledButtonRight>\r\n        </SortButtonsContainer>\r\n    );\r\n}\r\n\r\nexport default SortButtons;\r\n\r\nSortButtons.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    checkByTime: PropTypes.bool.isRequired,\r\n    checkByPrice: PropTypes.bool.isRequired\r\n};\r\n\r\n\r\nconst SortButtonsContainer = styled.div`\r\ndisplay:flex;\r\nflex-direction: row;\r\nbox-sizing: border-box;\r\nmargin-bottom: 20px;\r\nbox-shadow: none;\r\n`\r\nconst StyledButtonLeft = styled.button`\r\ncursor:pointer;\r\nheight:50px;\r\nwidth: 271px;\r\nfont-family: Open Sans;\r\nfont-style: normal;\r\nfont-weight: 600;\r\nfont-size: 12px;\r\ncolor : ${props => props.checked ? '#FFFFFF' : '#4A4A4A'};\r\nbackground-color: ${props => props.checked ? '#2196F3' : '#FFFFFF'};\r\nborder: 1px solid #DFE5EC;\r\nborder-radius: 5px 0 0 5px;\r\nborder-right: none;\r\n`\r\nconst StyledButtonRight = styled.button`\r\ncursor:pointer;\r\nheight:50px;\r\nwidth: 271px;\r\nfont-family: Open Sans;\r\nfont-style: normal;\r\nfont-weight: 600;\r\nfont-size: 12px;\r\ncolor : ${props => props.checked ? '#FFFFFF' : '#4A4A4A'};\r\nbackground-color: ${props => props.checked ? '#2196F3' : '#FFFFFF'};\r\nborder-radius: 0 5px 5px 0;\r\nborder: 1px solid #DFE5EC;\r\nborder-left: none;\r\n`","import React from 'react';\nimport aviasalesApi from \"./services/aviasalesApi\";\nimport Tickets from \"./components/Tickets/tickets\";\nimport StopsControl from \"./components/StopsControl/stopsControl\";\nimport './App.scss';\nimport {MainContainer, RightSideWrapper, StyledMainLogo} from \"./styledApp\";\nimport SortButtons from \"./components/SortButtons/sortButtons\";\nimport mainLogo from './images/mainLogo.svg';\n\nconst initialState = {\n    tickets: [],\n    searchId: '',\n    filters: [],\n    checkedValues: {\n        'allStops': false,\n        'withoutStops': false,\n        'oneStop': false,\n        'twoStops': false,\n        'threeStops': false\n    },\n    checkSortByPrice: false,\n    checkSortByTime: false\n}\n\nclass App extends React.Component {\n    state = initialState;\n\n    componentDidMount() {\n        aviasalesApi.loadTickets((chunk) => {\n            this.setState(({tickets}) => ({tickets: [...tickets, ...chunk]}));\n        })\n\n    }\n\n    handleCheck = (e) => {\n        const {checked, value, name} = e.target;\n        const {checkedValues} = this.state;\n        if (checked) {\n            if (value === 'allStops') {\n                console.log(checkedValues)\n                this.setState(({filters}) => ({\n                    filters: [...filters, value],\n                    checkedValues: {\n                        [name]: true,\n                        'withoutStops': true,\n                        'oneStop': true,\n                        'twoStops': true,\n                        'threeStops': true\n                    }\n                }));\n            } else {\n                this.setState(({filters}) => ({\n                    filters: [...filters, value],\n                    checkedValues: {...checkedValues, [name]: true}\n                }));\n            }\n        }\n        if (!checked) {\n            if (value === 'allStops') {\n                const {filters} = this.state;\n                const newFilters = filters.filter(el => el !== value);\n                this.setState(() => ({\n                    filters: newFilters,\n                    checkedValues: {\n                        'allStops': false,\n                        'withoutStops': false,\n                        'oneStop': false,\n                        'twoStops': false,\n                        'threeStops': false\n                    }\n                }));\n            } else {\n                const {filters} = this.state;\n                const newFilters = filters.filter(el => el !== value);\n                this.setState(() => ({\n                    filters: newFilters,\n                    checkedValues: {...checkedValues, [name]: false}\n                }));\n            }\n        }\n    }\n\n    toggleSortButtons = (e) => {\n        const {name} = e.target;\n        const {tickets} = this.state;\n        if (name === 'priceSort') {\n            const sortedArr = tickets.sort((a, b) => a.price > b.price ? 1 : -1);\n            this.setState(() => ({\n                tickets: sortedArr,\n                checkSortByPrice: true,\n                checkSortByTime: false\n            }));\n        }\n        if (name === 'timeSort') {\n            const sortedArr = tickets.sort((a, b) => {\n                const {segments: [{duration: startA}, {duration: endA}]} = a;\n                const {segments: [{duration: startB}, {duration: endB}]} = b;\n                return ((startA + endA) > (startB + endB) ? 1 : -1);\n            });\n            this.setState(() => ({\n                tickets: sortedArr,\n                checkSortByPrice: false,\n                checkSortByTime: true\n            }));\n        }\n    }\n\n\n    render() {\n        const {\n            tickets,\n            filters,\n            checkedValues,\n            checkSortByTime,\n            checkSortByPrice\n        } = this.state;\n        return (\n            <MainContainer>\n                <StopsControl onChange={this.handleCheck}\n                              checked={checkedValues}/>\n                <RightSideWrapper>\n                    <StyledMainLogo\n                        src={mainLogo}/>\n                    <SortButtons onClick={this.toggleSortButtons}\n                                 checkByPrice={checkSortByPrice}\n                                 checkByTime={checkSortByTime}/>\n                    <Tickets tickets={tickets}\n                             filters={filters}\n                    />\n                </RightSideWrapper>\n            </MainContainer>\n        )\n    }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Normalize} from \"styled-normalize\";\n\nconst Root = ()=>(\n    <React.Fragment>\n        <Normalize/>\n        <App />\n    </React.Fragment>\n);\n\nReactDOM.render(\n    <Root />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}