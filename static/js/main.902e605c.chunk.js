(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{36:function(t,e,n){t.exports=n.p+"static/media/Checkbox.fc4db7ee.svg"},37:function(t,e,n){t.exports=n.p+"static/media/Form.74238712.svg"},38:function(t,e,n){t.exports=n.p+"static/media/mainLogo.0c089234.svg"},42:function(t,e,n){t.exports=n(68)},67:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(30),o=n.n(c),i=n(9),u=n(11),l=n(5),s=n(13),f=n(8),p=n(31),d=n(41),h=n(40),m=n(7),b=n.n(m),x=n(12),g=n(16),v=n.n(g),k=new function t(){var e=this;Object(f.a)(this,t),this._searchIdUrl="https://front-test.beta.aviasales.ru/search",this._searchTickets="https://front-test.beta.aviasales.ru/tickets?searchId",this.getTickets=function(){var t=Object(x.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("".concat(e._searchTickets,"=").concat(n));case 3:!1===t.sent.data.stop&&e.getTickets(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.getTickets(n);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),this.getSearchId=Object(x.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get(e._searchIdUrl);case 2:return n=t.sent,t.abrupt("return",n.data.searchId);case 4:case"end":return t.stop()}}),t)}))),this.loadTickets=function(){var t=Object(x.a)(b.a.mark((function t(n){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSearchId();case 2:r=t.sent,a=null;case 4:return t.next=6,e.getChunk(r);case 6:a=t.sent,n(a.data.tickets);case 8:if(!1===a.data.stop){t.next=4;break}case 9:console.log(" all chunks are loaded");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getChunk=function(){var t=Object(x.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("".concat(e._searchTickets,"=").concat(n));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,e.getChunk(n);case 10:return r=t.sent,t.abrupt("return",r);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},j=n(32),O=n(18),S=n(70),y=n(71),E=n(72),w=new function t(){Object(f.a)(this,t),this.stopsCounter=function(t){return 0===t.length?"\u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":1===t.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"".concat(t.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")},this.stopsName=function(t){return 0===t.length?"-":1===t.length?"".concat(t):2===t.length?"".concat(t[0],",").concat(t[1]):3===t.length?"".concat(t[0],",").concat(t[1],",").concat(t[2]):void 0},this.flightTimeEditor=function(t,e){var n="0".concat(Object(S.a)(new Date(t))).slice(-2),r="0".concat(Object(y.a)(new Date(t))).slice(-2),a=Object(O.a)(new Date(t),e),c="0".concat(Object(S.a)(new Date(a))).slice(-2),o="0".concat(Object(y.a)(new Date(a))).slice(-2);return"".concat(n,":").concat(r," -").concat(c,":").concat(o)},this.flightTimeCounter=function(t,e){var n=new Date(t),r=Object(O.a)(n,e),a=Object(E.a)(r,n),c="".concat(Math.floor(a/60)),o="".concat(a%60);return"".concat(c,"\u0447 ").concat(o,"\u043c")}},F=n(2),C=n(1);function T(){var t=Object(F.a)(["\nmargin-top:20px;\nmargin-bottom:20px;\n"]);return T=function(){return t},t}function B(){var t=Object(F.a)(["\ndisplay: flex;\njustify-content: flex-start;\nfont-size: 12px;\ncolor: #A0B0B9;\nmargin-top: 75px;\nmargin-bottom: 3px;\n"]);return B=function(){return t},t}function V(){var t=Object(F.a)(["\ndisplay: flex;\nflex-direction: column;\n"]);return V=function(){return t},t}function z(){var t=Object(F.a)(["\ndisplay: flex;\nflex-direction: column;\n"]);return z=function(){return t},t}function A(){var t=Object(F.a)(["\nfont-size: 14px;\nmargin-bottom: 10px;\n"]);return A=function(){return t},t}function D(){var t=Object(F.a)(["\ndisplay: flex;\njustify-content: flex-start;\nfont-size: 12px;\ncolor: #A0B0B9;\nmargin-bottom: 3px;\n"]);return D=function(){return t},t}function I(){var t=Object(F.a)(["\nfont-size: 24px;\ncolor:#2196F3;\n"]);return I=function(){return t},t}function P(){var t=Object(F.a)(["\ndisplay:flex;\nflex-direction:column;\nalign-items: left;\n"]);return P=function(){return t},t}function _(){var t=Object(F.a)(["\nfont-family: 'Open Sans';\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\nwidth: 502px;\nheight:184px;\npadding: 20px;\nbackground-color: #FFFFFF;\nmargin-bottom: 20px;\nfont-weight: 600;\nbox-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\nborder-radius: 5px;\n"]);return _=function(){return t},t}function N(){var t=Object(F.a)(["\ndisplay: flex:\nflex-direction: column;\n"]);return N=function(){return t},t}var J=C.default.div(N()),L=C.default.div(_()),M=C.default.div(P()),U=C.default.p(I()),q=C.default.span(D()),W=C.default.span(A()),G=C.default.div(z()),H=C.default.div(V()),K=C.default.span(B()),Q=C.default.img(T()),R=function(t){var e=t.tickets,n=t.filters,r=e.filter((function(t){var e=Object(i.a)(t.segments,2),r=e[0].stops,a=e[1].stops;return n.includes(String(r.length))||n.includes(String(a.length))||n.includes("allStops")?t:null})).slice(0,5);return a.a.createElement(J,null,r.map((function(t){var e=t.price,n=t.carrier,r=Object(i.a)(t.segments,2),c=r[0],o=c.origin,u=c.destination,l=c.date,s=c.duration,f=c.stops,p=r[1],d=p.origin,h=p.destination,m=p.date,b=p.duration,x=p.stops;return a.a.createElement(L,{key:Object(j.uniqueId)()},a.a.createElement(M,null,a.a.createElement(U,null,e.toLocaleString("ru")," P"),a.a.createElement(q,null,o,"-",u),a.a.createElement(W,null,w.flightTimeEditor(l,s)),a.a.createElement(q,null,d,"-",h),a.a.createElement(W,null,w.flightTimeEditor(m,b))),a.a.createElement(G,null,a.a.createElement(K,null,"\u0432 \u043f\u0443\u0442\u0438"),a.a.createElement(W,null,w.flightTimeCounter(l,s)),a.a.createElement(q,null,"\u0412 \u041f\u0423\u0422\u0418"),a.a.createElement(W,null,w.flightTimeCounter(m,b))),a.a.createElement(H,null,a.a.createElement(Q,{src:"https://pics.avs.io/99/36/".concat(n,".png")}),a.a.createElement(q,null,w.stopsCounter(f)),a.a.createElement(W,null,w.stopsName(f)),a.a.createElement(q,null,w.stopsCounter(x)),a.a.createElement(W,null,w.stopsName(x))))})))},X=n(36),Y=n.n(X),Z=n(37),$=n.n(Z);function tt(){var t=Object(F.a)(["\ndisplay: flex;\nalign-items: center;\nmargin-bottom: 20px;\nfont-size: 13px;\ncursor: pointer;\nvertical-align: center;\nfont-family: 'Open Sans';\nfont-style: normal;\n&:before {\ncontent: \"\";\ndisplay:inline-block;\nwidth: 20px;\nheight: 20px;\nmargin-right: 10px;\nbackground-image: ",";\nbackground-position: center;\nbackground-repeat: no-repeat;\n}\n"]);return tt=function(){return t},t}function et(){var t=Object(F.a)(["\nfont-size: 12px;\nheight: 12px;\nfont-weight: 600;\nfont-family: 'Open Sans';\nfont-style: normal;\n"]);return et=function(){return t},t}function nt(){var t=Object(F.a)(["\ndisplay: none;\n"]);return nt=function(){return t},t}function rt(){var t=Object(F.a)(["\ndisplay: flex;\nWidth:232px;\nheight: 252px;\nmargin-right: 20px;\nmargin-top: 190px;\npadding-left: 20px;\npadding-right: 20px;\nborder-radius: 5px;\nflex-direction: column;\njustify-content: start;\nbox-sizing: border-box;\nbackground-color:#FFFFFF;\nbox-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n"]);return rt=function(){return t},t}var at=C.default.div(rt()),ct=C.default.input(nt()),ot=C.default.p(et()),it=C.default.label(tt(),(function(t){return t.checked?"url(".concat(Y.a,")"):"url(".concat($.a,")")})),ut=function(t){var e=t.onChange,n=t.checked,r=[{checkedValue:n.allStops,name:"allStops",value:"allStops",text:"\u0412\u0441\u0435"},{checkedValue:n.withoutStops,name:"withoutStops",value:"0",text:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"},{checkedValue:n.oneStop,name:"oneStop",value:"1",text:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"},{checkedValue:n.twoStops,name:"twoStops",value:"2",text:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"},{checkedValue:n.threeStops,name:"threeStops",value:"3",text:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"}];return a.a.createElement(at,null,a.a.createElement(ot,null,"\u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041e\u041a"),r.map((function(t,n){var r=t.checkedValue,c=t.name,o=t.value,i=t.text;return a.a.createElement(it,{checked:r,key:n},a.a.createElement(ct,{type:"checkbox",name:c,value:o,onChange:e}),i)})))};n(67);function lt(){var t=Object(F.a)(["\nmargin-top: 50px;\nmargin-bottom: 50px;\n"]);return lt=function(){return t},t}function st(){var t=Object(F.a)(["\ndisplay: flex;\nflex-direction: column;\n"]);return st=function(){return t},t}function ft(){var t=Object(F.a)(["\ndisplay: flex;\nmin-height: 1200px;\nflex-direction: row;\nbackground-color: #E5E5E5;\njustify-content: center;\n"]);return ft=function(){return t},t}var pt=C.default.div(ft()),dt=C.default.div(st()),ht=C.default.img(lt());function mt(){var t=Object(F.a)(["\ncursor:pointer;\nheight:50px;\nwidth: 271px;\nfont-family: Open Sans;\nfont-style: normal;\nfont-weight: 600;\nfont-size: 12px;\ncolor : ",";\nbackground-color: ",";\nborder-radius: 0 5px 5px 0;\nborder: 1px solid #DFE5EC;\nborder-left: none;\n"]);return mt=function(){return t},t}function bt(){var t=Object(F.a)(["\ncursor:pointer;\nheight:50px;\nwidth: 271px;\nfont-family: Open Sans;\nfont-style: normal;\nfont-weight: 600;\nfont-size: 12px;\ncolor : ",";\nbackground-color: ",";\nborder: 1px solid #DFE5EC;\nborder-radius: 5px 0 0 5px;\nborder-right: none;\n"]);return bt=function(){return t},t}function xt(){var t=Object(F.a)(["\ndisplay:flex;\nflex-direction: row;\nbox-sizing: border-box;\nmargin-bottom: 20px;\nbox-shadow: none;\n"]);return xt=function(){return t},t}var gt=function(t){var e=t.onClick,n=t.checkByPrice,r=t.checkByTime;return a.a.createElement(vt,null,a.a.createElement(kt,{name:"priceSort",onClick:e,checked:n},"\u0421\u0410\u041c\u042b\u0419 \u0414\u0415\u0428\u0415\u0412\u042b\u0419"),a.a.createElement(jt,{name:"timeSort",onClick:e,checked:r},"\u0421\u0410\u041c\u042b\u0419 \u0411\u042b\u0421\u0422\u0420\u042b\u0419"))},vt=C.default.div(xt()),kt=C.default.button(bt(),(function(t){return t.checked?"#FFFFFF":"#4A4A4A"}),(function(t){return t.checked?"#2196F3":"#FFFFFF"})),jt=C.default.button(mt(),(function(t){return t.checked?"#FFFFFF":"#4A4A4A"}),(function(t){return t.checked?"#2196F3":"#FFFFFF"})),Ot=n(38),St=n.n(Ot),yt={tickets:[],searchId:"",filters:[],checkedValues:{allStops:!1,withoutStops:!1,oneStop:!1,twoStops:!1,threeStops:!1},checkSortByPrice:!1,checkSortByTime:!1},Et=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state=yt,t.handleCheck=function(e){var n=e.target,r=n.checked,a=n.value,c=n.name,o=t.state.checkedValues;if(r&&("allStops"===a?(console.log(o),t.setState((function(t){var e,n=t.filters;return{filters:[].concat(Object(s.a)(n),[a]),checkedValues:(e={},Object(l.a)(e,c,!0),Object(l.a)(e,"withoutStops",!0),Object(l.a)(e,"oneStop",!0),Object(l.a)(e,"twoStops",!0),Object(l.a)(e,"threeStops",!0),e)}}))):t.setState((function(t){var e=t.filters;return{filters:[].concat(Object(s.a)(e),[a]),checkedValues:Object(u.a)(Object(u.a)({},o),{},Object(l.a)({},c,!0))}}))),!r)if("allStops"===a){var i=t.state.filters.filter((function(t){return t!==a}));t.setState((function(){return{filters:i,checkedValues:{allStops:!1,withoutStops:!1,oneStop:!1,twoStops:!1,threeStops:!1}}}))}else{var f=t.state.filters.filter((function(t){return t!==a}));t.setState((function(){return{filters:f,checkedValues:Object(u.a)(Object(u.a)({},o),{},Object(l.a)({},c,!1))}}))}},t.toggleSortButtons=function(e){var n=e.target.name,r=t.state.tickets;if("priceSort"===n){var a=r.sort((function(t,e){return t.price>e.price?1:-1}));t.setState((function(){return{tickets:a,checkSortByPrice:!0,checkSortByTime:!1}}))}if("timeSort"===n){var c=r.sort((function(t,e){var n=Object(i.a)(t.segments,2),r=n[0].duration,a=n[1].duration,c=Object(i.a)(e.segments,2);return r+a>c[0].duration+c[1].duration?1:-1}));t.setState((function(){return{tickets:c,checkSortByPrice:!1,checkSortByTime:!0}}))}},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this;k.loadTickets((function(e){t.setState((function(t){var n=t.tickets;return{tickets:[].concat(Object(s.a)(n),Object(s.a)(e))}}))}))}},{key:"render",value:function(){var t=this.state,e=t.tickets,n=t.filters,r=t.checkedValues,c=t.checkSortByTime,o=t.checkSortByPrice;return a.a.createElement(pt,null,a.a.createElement(ut,{onChange:this.handleCheck,checked:r}),a.a.createElement(dt,null,a.a.createElement(ht,{src:St.a}),a.a.createElement(gt,{onClick:this.toggleSortButtons,checkByPrice:o,checkByTime:c}),a.a.createElement(R,{tickets:e,filters:n})))}}]),n}(a.a.Component),wt=n(39),Ft=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(wt.Normalize,null),a.a.createElement(Et,null))};o.a.render(a.a.createElement(Ft,null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.902e605c.chunk.js.map